# 如何选择合适的模型

YOLOv6 提供了一系列面向各种工业应用场景的模型，从模型大小方面来看，可分为微小型(Nano)，极小型(Tiny)、小(Small)，中(Medium)，大模型(Large)；从用户使用场景方面来看，可分为基础版(base)，进阶版（advance），高精版（high-precision）。

为了更好地实现精度和速度权衡，这些模型的结构会根据模型大小而有所不同。此外，我们还引入了一些策略和技巧方法来进一步提高性能，例如自蒸馏和更多的训练轮次，这些策略和技巧并不会增加模型推理延时。


- 下面将分别介绍各模型版本的优缺点及使用场景，同时给出相应的精度-速度指标。

### 模型特点

| 模型       | 优点 | 不足  | 使用场景  | 性能指标  |
|:----------|:----------|:----------|:----------|:----------|
| 基础版    | 采用常规卷积和ReLU激活的统一网络结构，直接PTQ量化精度损失较小    | COCO数据集上精度稍低   | 适合刚入门或有快速迭代部署int8量化模型需求的用户    | [模型指标](#基础版模型)    |
| 进阶版    | 精度和速度指标优于同规模的其他主流检测器    | 采用重参数化训练策略，训练资源要求稍高，量化部署流程稍复杂   | 适合精度速度权衡且侧重高精度的用户    | [模型指标](#进阶版模型)    |
| 高精版    | 采用1280分辨率训练，添加P6输出层，精度较高   | 速度相对进阶版较慢，但对比其他同规模的高精模型速度持平或超越    | 适合训练图片分辨率较大或对精度有较高要求的用户    | [模型指标](#高精版模型)    |


### 模型性能指标

#### 基础版模型

| 模型                                                         | 输入尺寸 | mAP<sup>val<br/>0.5:0.95 | mAP<sup>val<br/>PTQ trt int8 | 速度<sup>T4<br/>trt fp16 b1 <br/>(fps) | 速度<sup>T4<br/>trt fp16 b32 <br/>(fps) | 参数量<br/><sup> (M) | 计算量<br/><sup> (G) |
| :----------------------------------------------------------- | -------- | :----------------------- | ------------------------ | -------------------------------------- | --------------------------------------- | -------------------- | -------------------- |
| [**YOLOv6-N-base**](https://github.com/meituan/YOLOv6/releases/download/0.2.1/yolov6n_base.pt) | 640      | 35.6                     | 35.3                     | 832                                    | 1249                                    | 4.3                  | 11.1                 |
| [**YOLOv6-S-base**](https://github.com/meituan/YOLOv6/releases/download/0.2.1/yolov6s_base.pt) | 640      | 43.8                     | 43.4                     | 373                                    | 531                                     | 11.5                 | 27.6                 |
| [**YOLOv6-M-base**](https://github.com/meituan/YOLOv6/releases/download/0.2.1/yolov6m_base.pt) | 640      | 48.8                     | 48.4                     | 179                                    | 246                                     | 27.7                 | 68.4                 |
| [**YOLOv6-L-base**](https://github.com/meituan/YOLOv6/releases/download/0.2.1/yolov6l_base.pt) | 640      | 51.0                     | 50.7                     | 115                                    | 153                                     | 58.5                 | 144.0                |

- 以上精度指标: N/S 基础版模型是在训练 400 epoch 的模型上测试得到，M/L 基础版模型是在采用自蒸馏训练的模型上测试得到的；
- 以上速度指标: 在 T4 上测试，TensorRT 版本为 7.2；

#### 进阶版模型

| 模型                                                         | 输入尺寸 | mAP<sup>val<br/>0.5:0.95              | mAP<sup>val<br/>RepOpt trt int8 | 速度<sup>T4<br/>trt fp16 b1 <br/>(fps) | 速度<sup>T4<br/>trt fp16 b32 <br/>(fps) | 参数量<br/><sup> (M) | 计算量<br/><sup> (G) |
| :----------------------------------------------------------- | -------- | :------------------------------------ | ------------------------------- | -------------------------------------- | --------------------------------------- | -------------------- | -------------------- |
| [**YOLOv6-N**](https://github.com/meituan/YOLOv6/releases/download/0.2.1/yolov6n_sim.pt) | 640      | 35.9<sup>300e</sup><br/>36.3<sup>400e | 34.8<sup>300e</sup>             | 802                                    | 1234                                    | 4.3                  | 11.1                 |
| [**YOLOv6-T**](https://github.com/meituan/YOLOv6/releases/download/0.2.0/yolov6t.pt) | 640      | 40.3<sup>300e</sup><br/>41.1<sup>400e | 39.8<sup>300e</sup>             | 449                                    | 659                                     | 15.0                 | 36.7                 |
| [**YOLOv6-S**](https://github.com/meituan/YOLOv6/releases/download/0.2.0/yolov6s.pt) | 640      | 43.5<sup>300e</sup><br/>43.8<sup>400e | 43.3<sup>300e</sup>             | 358                                    | 495                                     | 17.2                 | 44.2                 |
| [**YOLOv6-M**](https://github.com/meituan/YOLOv6/releases/download/0.2.0/yolov6m.pt) | 640      | 49.5                                  | /                               | 179                                    | 233                                     | 34.3                 | 82.2                 |
| [**YOLOv6-L-ReLU**](https://github.com/meituan/YOLOv6/releases/download/0.2.0/yolov6l_relu.pt) | 640      | 51.7                                  | /                               | 113                                    | 149                                     | 58.5                 | 144.0                |
| [**YOLOv6-L**](https://github.com/meituan/YOLOv6/releases/download/0.2.0/yolov6l.pt) | 640      | 52.5                                  | /                               | 98                                     | 121                                     | 58.5                 | 144.0                |

- 以上精度指标: N/T/S 模型是在训练 300 和 400 epoch 的模型上测试得到，M/L 模型是在采用自蒸馏训练的模型上测试得到的；
- 以上速度指标: 在 T4 上测试，TensorRT 版本为 7.2；

#### 高精版模型

| 模型                                                         | 输入尺寸 | mAP<sup>val<br/>0.5:0.95 | 速度<sup>T4<br/>trt fp16 b1 <br/>(fps) | 速度<sup>T4<br/>trt fp16 b32 <br/>(fps) | 参数量<br/><sup> (M) | 计算量<br/><sup> (G) |
| :----------------------------------------------------------- | -------- | :----------------------- | -------------------------------------- | --------------------------------------- | -------------------- | -------------------- |
| [**YOLOv6-N-P6**](https://github.com/meituan/YOLOv6/releases/download/0.2.1/yolov6n6.pt) | 1280     | 44.3<sup>300e</sup><br/> | 245                                    | 294                                     | 10.0                 | 49.3                 |
| [**YOLOv6-S-P6**](https://github.com/meituan/YOLOv6/releases/download/0.2.1/yolov6s6.pt) | 1280     | 50.0<sup>300e</sup><br/> | 103                                    | 114                                     | 40.0                 | 196.1                |
| [**YOLOv6-M-P6**](https://github.com/meituan/YOLOv6/releases/download/0.2.1/yolov6m6.pt) | 1280     | 即将发布                 |                                        |                                         |                      |                      |
| [**YOLOv6-L-P6**](https://github.com/meituan/YOLOv6/releases/download/0.2.1/yolov6l6.pt) | 1280     | 即将发布                 |                                        |                                         |                      |                      |

- 以上精度指标: N/S 高精版模型是在训练 300 epoch 的模型上测试得到，M/L 高精版模型是在采用自蒸馏训练的模型上测试得到的；
- 以上速度指标: 在 T4 上测试，TensorRT 版本为 7.2；